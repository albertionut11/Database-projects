CREATE TABLE JUCATORI(
    jucator_id NUMBER(10) PRIMARY KEY,
    nume VARCHAR(20) NOT NULL,
    prenume VARCHAR(20) NOT NULL,
    pozitie VARCHAR(20) NOT NULL,
    numar_tricou NUMBER(5) NOT NULL 
);

ALTER TABLE JUCATORI
ADD CHECK (numar_tricou >= 1 AND numar_tricou <= 99);

CREATE TABLE ECHIPE(
    echipa_id NUMBER(10) PRIMARY KEY,
    nume VARCHAR(20) NOT NULL,
    stadion VARCHAR(20) NOT NULL,
    nr_trofee NUMBER(5),
    patron_id NUMBER(10) NOT NULL
);


CREATE TABLE PATRON(
    patron_id NUMBER(10) PRIMARY KEY,
    nume VARCHAR(20) NOT NULL,
    prenume VARCHAR(20) NOT NULL
);


CREATE TABLE ANTRENORI(
    antrenor_id NUMBER(10) PRIMARY KEY,
    nume VARCHAR(20) NOT NULL,
    prenume VARCHAR(20) NOT NULL,
    specializare VARCHAR(20) NOT NULL
);

CREATE TABLE ARBITRI(
    arbitru_id NUMBER(10) PRIMARY KEY,
    nume VARCHAR(20) NOT NULL,
    prenume VARCHAR(20) NOT NULL
);


CREATE TABLE FEDERATII(
    federatie_id NUMBER(10) PRIMARY KEY,
    nume VARCHAR(20) NOT NULL,
    presedinte VARCHAR(20) NOT NULL
);

CREATE TABLE COMPETITII(
    competitie_id NUMBER(10) PRIMARY KEY,
    tara VARCHAR(20) NOT NULL,
    data_inceput DATE NOT NULL,
    data_final DATE NOT NULL,
    sponsor VARCHAR(20) 
);

ALTER TABLE COMPETITII
ADD nume VARCHAR(20) NOT NULL;

CREATE TABLE ETAPE(
    etapa_id NUMBER(10) PRIMARY KEY,
    competitie_id NUMBER(10) NOT NULL
);

CREATE TABLE ANTRENEAZA(
    echipa_id NUMBER(10),
    antrenor_id NUMBER(10),
    jucator_id NUMBER(10),
    data_antrenament DATE NOT NULL,
    tip_antrenament VARCHAR(20)  NOT NULL,
    CONSTRAINT pk_antr PRIMARY KEY(echipa_id, antrenor_id, jucator_id)
);

CREATE TABLE TRANSFERA(
    echipa_id NUMBER(10),
    patron_id NUMBER(10),
    jucator_id NUMBER(10),
    suma_transfer FLOAT(10),
    nume_agent VARCHAR(20) NOT NULL
);

ALTER TABLE TRANSFERA
ADD CONSTRAINT pk_transf PRIMARY KEY(echipa_id, jucator_id, patron_id);

CREATE TABLE JOACA_MECIURI(
    etapa_id NUMBER(10),
    arbitru_id NUMBER(10),
    gazda NUMBER(10) NOT NULL,
    oaspete NUMBER(10) NOT NULL,
    data_meci DATE NOT NULL,
    stadion VARCHAR(20) NOT NULL,
    CONSTRAINT pk_jm PRIMARY KEY(etapa_id, arbitru_id)
);

CREATE TABLE LEGITIMEAZA(
    echipa_id NUMBER(10),
    jucator_id NUMBER(10),
    salariu FLOAT(10), 
    ani_contract NUMBER(10) NOT NULL,
    CONSTRAINT pk_legit PRIMARY KEY(echipa_id, jucator_id),
    CHECK (ani_contract >=1 AND ani_contract <= 6)
);

CREATE TABLE PARTICIPA(
    echipa_id NUMBER(10),
    competitie_id NUMBER(10),
    poz_clasament NUMBER(10) NOT NULL,
    puncte NUMBER(10),
    goluri_marcate NUMBER(10),
    goluri_primite NUMBER(10),
    CONSTRAINT pk_participa PRIMARY KEY(echipa_id, competitie_id),
    CHECK (poz_clasament >=1 AND poz_clasament <=20)
);

CREATE TABLE ORGANIZEAZA(
    federatie_id NUMBER(10),
    competitie_id NUMBER(10),
    CONSTRAINT pk_org PRIMARY KEY(federatie_id, competitie_id)
);

CREATE TABLE ANGAJEAZA(
    federatie_id NUMBER(10),
    arbitru_id NUMBER(10),
    salariu FLOAT(10),
    ani_contract NUMBER(10) NOT NULL,
    CONSTRAINT pk_ang PRIMARY KEY(federatie_id, arbitru_id),
    CHECK(ani_contract >= 1 AND ani_contract <= 6)
);

INSERT INTO JUCATORI
values(1,'BALAUTA','ALBERT','ATACANT',10);

INSERT INTO JUCATORI
values(2,'HAULICA','TUDOR','ATACANT',9);

INSERT INTO JUCATORI
values(3,'ALISTAR','VLAD','MIJLOCAS',7);

INSERT INTO JUCATORI
values(4,'APETROAIE','CRISTIAN','PORTAR',1);

INSERT INTO JUCATORI
values(5,'FILIP','MADALIN','MIJLOCAS',18);

INSERT INTO JUCATORI
values(6,'TRIFAN','ROBERT','FUNDAS',4);

INSERT INTO JUCATORI
values(7,'OCTAVIAN','POPESCU','ATACANT',9);

INSERT INTO JUCATORI
values(8,'DENNIS','MANN','ATACANT',10);

INSERT INTO JUCATORI
values(9,'DARIUS','OLARU','MIJLOCAS',20);

INSERT INTO JUCATORI
values(10,'PAULO','VINICIUS','FUNDAS',4);

SELECT * FROM JUCATORI;

INSERT INTO ECHIPE
values(1,'DINAMO BUCURESTI','STEFAN CEL MARE',18,1);

INSERT INTO ECHIPE
values(2,'FC VASLUI','MUNICIPAL',100,2);

INSERT INTO ECHIPE
values(3,'FCSB','NATIONAL ARENA',17,3);

INSERT INTO ECHIPE
values(4,'RAPID BUCURESTI','GIULESTI',10,4);

INSERT INTO ECHIPE
values(5,'CFR CLUJ','DAN PALTINISANU',7,5);

SELECT * FROM ECHIPE;

INSERT INTO ARBITRI
values(1,'ISTVAN ','KOVACS');

INSERT INTO ARBITRI
values(2,'OVIDIU','HATEGAN');


INSERT INTO ARBITRI
values(3,'SEBASTIAN','COLTESCU');

SELECT * FROM ARBITRI;


INSERT INTO COMPETITII
values(1,'ROMANIA','10-AUG-22','10-JUN-22','BERGENBIER','LIGA 1');

INSERT INTO COMPETITII
values(2,'ANGLIA','11-AUG-22','10-MAY-22','BARCLAYS','PREMIER LEAGUE');


INSERT INTO COMPETITII
values(3,'ITALIA','9-AUG-22','15-JUN-22','TM','SERIE A');


INSERT INTO COMPETITII
values(4,'GERMANIA','12-AUG-22','12-JUN-22','BBVA','LA LIGA');

INSERT INTO COMPETITII
values(5,'FRANTA','14-AUG-22','12-MAY-22','UBER EATS','LIGUE ONE');

SELECT * FROM COMPETITII;

INSERT INTO ANTRENORI
values(1,'DAN','PETRESCU','PRINCIPAL');

INSERT INTO ANTRENORI
values(2,'MIRCEA','LUCESCU','PRINCIPAL');

INSERT INTO ANTRENORI
values(3,'VASILE','CONSTANTIN','FITNESS');

INSERT INTO ANTRENORI
values(4,'CATALIN','STRATON','PORTARI');

INSERT INTO ANTRENORI
values(5, 'LAURENTIU', 'REGHECAMPF', 'PRINCIPAL');

SELECT * FROM ANTRENORI;

INSERT INTO FEDERATII
values(1,'FRF','RAZVAN BURLEANU');

INSERT INTO FEDERATII
values(2,'FIFA','GIANNI INFANTINO');

SELECT * FROM FEDERATII;

INSERT INTO PATRON
values(1,'BORCEA','CRISTI');

INSERT INTO PATRON
values(2,'PORUMBOIU','ADRIAN');

INSERT INTO PATRON
values(3,'BECALI','GIGI');

INSERT INTO PATRON
values(4,'PANCU','DANIEL');

INSERT INTO PATRON
values(5,'MURESAN','IULIU');

SELECT * FROM PATRON;

INSERT INTO ETAPE
values(1,1);

INSERT INTO ETAPE
values(2,1);

INSERT INTO ETAPE
values(3,1);

INSERT INTO ETAPE
values(4,1);

INSERT INTO ETAPE
values(5,1);

INSERT INTO ETAPE
values(6,2);

INSERT INTO ETAPE
values(7,2);

INSERT INTO ETAPE
values(8,3);

SELECT * FROM ETAPE;

INSERT INTO ANGAJEAZA
values(1,1,3000,4);

INSERT INTO ANGAJEAZA
values(1,2,2000,5);

INSERT INTO ANGAJEAZA
values(1,3,3500,6);

INSERT INTO ANTRENEAZA
values(1,4,4,'10-AUG-2022','fitness');

INSERT INTO ANTRENEAZA
values(1,3,3,'10-AUG-2022','rezistenta');

INSERT INTO ANTRENEAZA
values(1,3,1,'10-AUG-2022','shooting');

INSERT INTO ANTRENEAZA
values(1,2,2,'10-AUG-2022','passing');

INSERT INTO ANTRENEAZA
values(1,2,5,'10-AUG-2022','rezistenta');

INSERT INTO ANTRENEAZA
values(1,2,6,'10-AUG-2022','defending');

INSERT INTO ANTRENEAZA
values(1,4,4,'10-AUG-2022','fitness');

INSERT INTO ANTRENEAZA
values(3,5,9,'10-AUG-2022','passing');

INSERT INTO ANTRENEAZA
values(3,5,10,'11-AUG-2022','defending');

INSERT INTO ANTRENEAZA
values(3,5,8,'10-AUG-2022','shooting');

INSERT INTO ANTRENEAZA
values(3,5,7,'11-AUG-2022','rezistanta');

INSERT INTO LEGITIMEAZA
values(1,1,999999.9,5);

INSERT INTO LEGITIMEAZA
values(1,2,999.9,3);

INSERT INTO LEGITIMEAZA
values(1,3,2000,2);

INSERT INTO LEGITIMEAZA
values(1,4,1300.50,4);

INSERT INTO LEGITIMEAZA
values(1,5,1500,4);

INSERT INTO LEGITIMEAZA
values(1,6,3000,3);

INSERT INTO LEGITIMEAZA
values(3,7,2000,3);

INSERT INTO LEGITIMEAZA
values(3,8,7000,1);

INSERT INTO LEGITIMEAZA
values(3,9,8000,2);

INSERT INTO LEGITIMEAZA
values(3,10,5000,4);


INSERT INTO PARTICIPA
values(1,1,1,90,50,0);


INSERT INTO PARTICIPA
values(2,1,2,89,49,1);


INSERT INTO PARTICIPA
values(3,1,3,40,22,45);


INSERT INTO PARTICIPA
values(4,1,4,30,30,40);


INSERT INTO PARTICIPA
values(5,1,5,10,12,57);

INSERT INTO ORGANIZEAZA
values(1,1);

INSERT INTO ORGANIZEAZA
values(2,2);

INSERT INTO ORGANIZEAZA
values(2,3);

INSERT INTO ORGANIZEAZA
values(2,4);

INSERT INTO ORGANIZEAZA
values(2,5);

INSERT INTO TRANSFERA
values(1,2,1,500000,'FABRIZIO ROMANO');

INSERT INTO TRANSFERA
values(1,2,2,2200,'AGENT 007');

INSERT INTO TRANSFERA
values(1,2,3,45000,'FABRIZIO ROMANO');

INSERT INTO TRANSFERA
values(1,2,4,0,'AGENT 001');

INSERT INTO TRANSFERA
values(1,2,5,3000,'JUSTITIARU');

INSERT INTO TRANSFERA
values(3,3,7,3200,'AGENT 007');

INSERT INTO TRANSFERA
values(3,3,8,5500,'VICTOR BECALI');

INSERT INTO TRANSFERA
values(3,3,9,20000,'VICTOR BECALI');

INSERT INTO TRANSFERA
values(3,3,10,12000,'VICTOR BECALI');

SELECT * FROM ETAPE;
SELECT * FROM ARBITRI;
SELECT * FROM ECHIPE;

INSERT INTO JOACA_MECIURI
values(1,2,1,3,'11-APR-2002','STEFAN CEL MARE');

INSERT INTO JOACA_MECIURI
values(2,1,1,2,'17-APR-2002','STEFAN CEL MARE');

INSERT INTO JOACA_MECIURI
values(3,3,1,4,'20-APR-2002','STEFAN CEL MARE');

INSERT INTO JOACA_MECIURI
values(4,1,2,1,'30-APR-2002','MUNICIPAL');

INSERT INTO JOACA_MECIURI
values(5,2,2,3,'11-MAY-2002','MUNICIPAL');

INSERT INTO JOACA_MECIURI
values(6,3,3,5,'18-MAY-2002','ARENA NATIONALA');

INSERT INTO JOACA_MECIURI
values(7,1,5,1,'25-MAY-2002','DAN PALTINISANU');

INSERT INTO JOACA_MECIURI
values(8,3,4,2,'29-MAY-2002','GIULESTI');

INSERT INTO JUCATORI
values('HORDILA','BRADU','REZERVA','18',11);

INSERT INTO JUCATORI
values('BOSINCEANU','RARES','MIJLOCAS','8',12);

INSERT INTO LEGITIMEAZA
values(2,11,NULL,1);

INSERT INTO LEGITIMEAZA
values(2,12,NULL,2);


SELECT * FROM JOACA_MECIURI;
SELECT * FROM ANGAJEAZA;
SELECT * FROM ANTRENEAZA;
SELECT * FROM ANTRENORI;
SELECT * FROM ARBITRI;
SELECT * FROM COMPETITII;
SELECT * FROM ECHIPE;
SELECT * FROM ETAPE;
SELECT * FROM FEDERATII;
SELECT * FROM JOACA_MECIURI;
SELECT * FROM JUCATORI;
SELECT * FROM LEGITIMEAZA;
SELECT * FROM ORGANIZEAZA;
SELECT * FROM PARTICIPA;
SELECT * FROM PATRON;
SELECT * FROM TRANSFERA;

SELECT j.nume, j.prenume, e.nume, p.nume, a.tip_antrenament, coach.prenume FROM JUCATORI j
JOIN LEGITIMEAZA l ON j.jucator_id = l.jucator_id
JOIN ECHIPE e ON l.echipa_id = e.echipa_id
JOIN PATRON p ON p.patron_id = e.patron_id
JOIN ANTRENEAZA a ON a.echipa_id = e.echipa_id
JOIN ANTRENORI coach ON coach.antrenor_id = a.antrenor_id
WHERE j.jucator_id = 1;








